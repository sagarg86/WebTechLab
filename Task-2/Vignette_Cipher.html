<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vignette Cipher</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <style>

input {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
        }

</style>

</head>

<body>

    <div class = "container">
    
    <h3>Ques3: For a given string and a code value, apply vignette cipher and display the result.</h3>
    <input id="userText" placeholder="Text"></input>
    <input id="key" type="text" placeholder="keyword"></input>
    <button class="btn btn-primary" id="encrypt" onclick="calculate()" type="submit">Encrypt</button>
    <br /> <br />
    <p id="cipher"></p>
    </div>
</body>

</html>
<!-- partial -->
<script>
    function isUpperCase(letter) {
        var l = letter.charCodeAt();
        if (l >= 65 && l <= 90) {
            return true;
        } else {
            return false;
        }
    };

    function isLowerCase(letter) {
        var l = letter.charCodeAt();
        if (l >= 97 && l <= 122) {
            return true;
        } else {
            return false;
        }
    };

    function calculate() {
        const plainMsg = document.getElementById("userText").value;
        const key = document.getElementById("key").value;
        if (plainMsg == "" || key== "") {
            alert("Please type both secret message and keyword!");
            return;
        }
        var cypher = "";
        for (var i = 0, j = 0; i < plainMsg.length; i++) {
            var currentLetter = plainMsg[i];

            if (isUpperCase(currentLetter)) {
                var upperLetter = ((currentLetter.charCodeAt() - 65) + (key[j % key.length].toUpperCase().charCodeAt() - 65)) % 26;
                cypher += String.fromCharCode(upperLetter + 65);
                j++;
            } else if (isLowerCase(currentLetter)) {
                var lowerLetter = ((currentLetter.charCodeAt() - 97) + (key[j % key.length].toLowerCase().charCodeAt() - 97)) % 26;
                cypher += String.fromCharCode(lowerLetter + 97);
                j++;
            } else {
                cypher += currentLetter;
            }
        }
        document.getElementById("cipher").innerHTML = `Encrypted Vignette Cipher Text<br> <b> ${plainMsg}</b> is<b> ${cypher}</b>`;

    };

</script>

</body>

</html>